# 部署诸葛神码的服务后端

## 整体思路

诸葛神码采用微服务架构。

整个后端系统大概分为三层四块，三层分别是：网关层，服务层，存储层。这三层再加上贯穿三层架构的统一的运维中心，共四大块。

### 网关层

网关层负责应用分发、负载均衡、流量控制、API授权控制

- 流量转发，ssl卸载： AD
- 应用分发、流量控制等: apisix
- 登录认证、授权控制：keycloak

### 服务层

服务层即几大核心服务，目前包括：

- 负责代码补全的后端：fauxpilot
- 负责对话的后端: chatgpt-server

### 存储层

存储层：

- 关系数据库: pgsql
- 键值数据库: etcd
- 缓存: redis

### 运维中心

运维中心：

- grafana
- prometheus
- kibana

## 部署步骤

